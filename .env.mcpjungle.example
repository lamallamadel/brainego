# MCPJungle Gateway Environment Configuration
# Copy this file to .env.mcpjungle and configure for your environment

# Gateway Service
GATEWAY_PORT=9100
GATEWAY_HOST=0.0.0.0

# MAX Serve Configuration
MAX_SERVE_URL=http://max-serve:8080

# Qdrant Configuration
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_COLLECTION=documents

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# MCP Configuration
MCP_SERVERS_CONFIG=/app/configs/mcp-servers.yaml
MCP_ACL_CONFIG=/app/configs/mcp-acl.yaml

# OpenTelemetry Tracing
ENABLE_TELEMETRY=true
OTLP_ENDPOINT=http://jaeger:4317
JAEGER_ENDPOINT=jaeger:6831

# API Keys (comma-separated)
# IMPORTANT: Change these in production!
# Format: sk-[name]-key-[random]
API_KEYS=sk-test-key-123,sk-admin-key-456,sk-dev-key-789

# MCP Server Credentials
# GitHub Personal Access Token (required for mcp-github)
# Scopes needed: repo, read:org, read:user
GITHUB_TOKEN=

# Notion Integration Token (required for mcp-notion)
# OAuth token from Notion integration
NOTION_API_KEY=

# GitHub MCP test scope (AFR-32)
# Restrict project-agent access to these test repositories/owners only
GITHUB_TEST_OWNER=
GITHUB_TEST_REPO_1=
GITHUB_TEST_REPO_2=

# Notion MCP test scope (AFR-32)
# Restrict project-agent access to this test workspace/databases only
NOTION_TEST_WORKSPACE_ID=
NOTION_TEST_DATABASE_ID_1=
NOTION_TEST_DATABASE_ID_2=

# Slack Bot Token (required for mcp-slack)
# Bot token format: xoxb-your-token
# Scopes needed: channels:read, channels:history, chat:write, users:read
SLACK_BOT_TOKEN=

# Gmail OAuth 2.0 Credentials (required for mcp-gmail)
# Get from Google Cloud Console - OAuth 2.0 Client
GMAIL_CLIENT_ID=
GMAIL_CLIENT_SECRET=
GMAIL_REFRESH_TOKEN=

# Google Calendar API Credentials (required for mcp-calendar)
# Get from Google Cloud Console - OAuth 2.0 Client
GOOGLE_CALENDAR_CLIENT_ID=
GOOGLE_CALENDAR_CLIENT_SECRET=
GOOGLE_CALENDAR_REFRESH_TOKEN=

# Linear API token (required for mcp-linear)
# Create in Linear: Settings -> API -> Personal API Keys
LINEAR_API_KEY=

# Jira API credentials (required for mcp-jira)
# JIRA_BASE_URL example: https://your-domain.atlassian.net
JIRA_BASE_URL=
JIRA_EMAIL=
JIRA_API_TOKEN=

# Logging Level
LOG_LEVEL=INFO

# Performance Settings
MAX_WORKERS=4
TIMEOUT_SECONDS=300

# Memory Service Configuration
MEMORY_COLLECTION=memories
MEMORY_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
MEMORY_TEMPORAL_DECAY_FACTOR=0.1
MEMORY_COSINE_WEIGHT=0.7
MEMORY_TEMPORAL_WEIGHT=0.3

# RAG Service Configuration
RAG_CHUNK_SIZE=1000
RAG_CHUNK_OVERLAP=100
RAG_EMBEDDING_MODEL=nomic-ai/nomic-embed-text-v1.5

# Feature Flags
ENABLE_MEMORY=true
ENABLE_RAG=true
ENABLE_METRICS=true
ENABLE_MCP=true

# Security Settings (Production)
# ENABLE_RATE_LIMITING=true
# RATE_LIMIT_PER_MINUTE=60
# ENABLE_CORS=false
# ALLOWED_ORIGINS=https://yourdomain.com

# Production Notes:
# 1. Set GITHUB_TOKEN with your GitHub Personal Access Token (read-only scopes)
# 2. Set LINEAR_API_KEY + JIRA credentials for issue tracker integrations
# 3. Set NOTION_API_KEY with your Notion Integration Secret
# 4. Change all API keys to secure random values
# 5. Configure role-based access in configs/mcp-acl.yaml
# 6. Enable rate limiting in production
# 7. Use HTTPS reverse proxy in front of gateway
# 8. Store sensitive values in secrets manager, not .env files
# 9. Monitor traces in Jaeger UI at http://localhost:16686
